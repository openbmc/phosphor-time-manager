{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "98015ae3_9f7a2c75",
        "filename": "epoch_base.cpp",
        "patchSetId": 1
      },
      "lineNbr": 56,
      "author": {
        "id": 1000044
      },
      "writtenOn": "2022-08-18T11:35:02Z",
      "side": 1,
      "message": "It\u0027s bad to sleep and block the main thread, use a timer or something async so that it does not block.\n\nBut you still need to figure out what to return when the DBus is called.\nMaking it fail (as before) could be more appropriate because it does fail to set the time.",
      "revId": "3de631dc2176135b1e7cf2ca72417aabf9fafdf0",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1ac54cbd_0c136ca3",
        "filename": "epoch_base.cpp",
        "patchSetId": 1
      },
      "lineNbr": 56,
      "author": {
        "id": 1000397
      },
      "writtenOn": "2022-08-18T12:45:55Z",
      "side": 1,
      "message": "\u003e It\u0027s bad to sleep and block the main thread, use a timer or something async so that it does not block.\n\nI think it should be synchronous, actually we should wait until NTP is really done before setting the time. otherwise, even if we set the time, it still returns an error.\n\n\u003e \n\u003e But you still need to figure out what to return when the DBus is called.\n\u003e Making it fail (as before) could be more appropriate because it does fail to set the time.\n\nBecause we don\u0027t want to see any errors via Redfish if NTP stops but doesn\u0027t stop completing.\nissue link: https://github.com/ibm-openbmc/dev/issues/3370",
      "parentUuid": "98015ae3_9f7a2c75",
      "revId": "3de631dc2176135b1e7cf2ca72417aabf9fafdf0",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "759a3fae_33f879da",
        "filename": "epoch_base.cpp",
        "patchSetId": 1
      },
      "lineNbr": 56,
      "author": {
        "id": 1000044
      },
      "writtenOn": "2022-09-01T05:49:36Z",
      "side": 1,
      "message": "\u003e I think it should be synchronous, actually we should wait until NTP is really done before setting the time. otherwise, even if we set the time, it still returns an error.\n\nNo it should not. If it\u0027s blocked, the whole service is blocked and it could cause the caller to block if it\u0027s making sync calls.\n\n\u003e Because we don\u0027t want to see any errors via Redfish if NTP stops but doesn\u0027t stop completing.\n\nIt could be fixed at the caller side, it could add retry there.",
      "parentUuid": "1ac54cbd_0c136ca3",
      "revId": "3de631dc2176135b1e7cf2ca72417aabf9fafdf0",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f46e873e_3afe8786",
        "filename": "epoch_base.cpp",
        "patchSetId": 1
      },
      "lineNbr": 56,
      "author": {
        "id": 1000020
      },
      "writtenOn": "2022-09-20T19:49:21Z",
      "side": 1,
      "message": "We are looking for some way to return a task to know NTP has stopped so webui-vue can get rid of this sleep: \nhttps://github.com/openbmc/webui-vue/blob/master/src/store/modules/Settings/DateTimeStore.js#L59\n\nAny thoughts on how bmcweb can know ntp has completely stopped ?",
      "parentUuid": "759a3fae_33f879da",
      "revId": "3de631dc2176135b1e7cf2ca72417aabf9fafdf0",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}